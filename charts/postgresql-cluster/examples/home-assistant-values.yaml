# Example: PostgreSQL for Home Assistant
enabled: true

cluster:
  instances: 2  # Home Assistant doesn't need as much HA

storage:
  size: 10Gi
  storageClass: ""

superuserSecret:
  create: true
  username: postgres
  password: ""  # Auto-generated

appSecret:
  create: true
  username: homeassistant
  password: ""  # Auto-generated

bootstrap:
  initdb:
    database: homeassistant
    owner: homeassistant

postgresql:
  parameters:
    max_connections: "100"
    shared_buffers: "256MB"
    effective_cache_size: "1GB"
    maintenance_work_mem: "64MB"
    work_mem: "2621kB"

resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 2Gi

backup:
  enabled: true
  schedule: "0 1 * * *"
  retentionPolicy: "14d"

pooler:
  enabled: false  # Usually not needed for Home Assistant
