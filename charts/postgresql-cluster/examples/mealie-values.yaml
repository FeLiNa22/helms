# Example: PostgreSQL for Mealie
enabled: true

cluster:
  instances: 2

storage:
  size: 5Gi  # Mealie is lightweight
  storageClass: ""

superuserSecret:
  create: true
  username: postgres
  password: ""  # Auto-generated

appSecret:
  create: true
  username: mealie
  password: ""  # Auto-generated

bootstrap:
  initdb:
    database: mealie
    owner: mealie

postgresql:
  parameters:
    max_connections: "50"
    shared_buffers: "128MB"
    effective_cache_size: "512MB"
    maintenance_work_mem: "32MB"
    work_mem: "2621kB"

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 1Gi

backup:
  enabled: true
  schedule: "0 4 * * *"
  retentionPolicy: "14d"

pooler:
  enabled: false  # Not needed for Mealie
